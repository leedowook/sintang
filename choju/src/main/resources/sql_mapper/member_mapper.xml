<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="Member">
	<!-- 회원가입 쿼리 -->
	<insert parameterType="member" id="memberJoin">
		INSERT INTO MEMBER VALUES(#{email},#{password}, #{name}, #{gender}, #{age} ,#{nickname},#{sha256},#{cheked})
	</insert>

	<!-- 아이디 중복확인 -->
	<select parameterType="member" id="idOverlap" resultType="member">
		SELECT * FROM MEMBER WHERE email=#{email}
	</select>

	<!-- 로그인처리 쿼리 -->
	<select parameterType="member" id="memberLogin" resultType="member">
		SELECT * FROM MEMBER WHERE email=#{email}
	</select>

	<!-- 회원목록 쿼리 -->
	<select id="memberList" resultType="member">
		SELECT *from member
	</select>

	<!-- 회원 정보 쿼리 -->
	<select parameterType="member" id="memberView" resultType="member">
		SELECT * FROM MEMBER WHERE email=#{email}
	</select>

	<!-- 회원 삭제 쿼리 -->
	<select parameterType="member" id="memberDelete">
		DELETE MEMBER WHERE email=#{email}
	</select>

	<!-- 이메일 인증 확인 -->
	<select id="emailCheckin">
		update member set cheked = 1 where email=#{email} and sha256=#{sha256}
	</select>

	<!-- 닉네임 중복 확인 -->
	<select parameterType="member" id="nickNameCheckin" resultType="member">
		SELECT * FROM MEMBER WHERE nickname=#{Nickname}
	</select>

	<!-- 회원 정보 수정 -->
	<select id="alertmember">
		update member set password=#{password},age=#{age},cheked=#{cheked} where email=#{email}
	</select>

	</mapper>