<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="PublicBoard">
	
	<!-- 글목록 쿼리 -->
	<select id="publicboardForm" resultType="PublicBoard">
		SELECT * FROM Public_Board order by Public_Board_Num desc
	</select>
	
	<!-- 글쓰기 쿼리 -->
	<insert id="publicboardwrite" parameterType="PublicBoard" useGeneratedKeys="true" keyProperty="Public_Board_Num">
		INSERT INTO Public_Board VALUES(Public_Board_seq.nextval, #{Public_Board_Password}, #{Public_Board_Type},
		#{Public_Board_Title}, #{Public_Board_Content}, #{Public_Board_Videourl}, #{Public_Board_FileName}, 0, SYSDATE)
		<selectKey keyProperty="Public_Board_Num" resultType="int" order="AFTER">
			SELECT Public_Board_seq.CURRVAL FROM DUAL
		</selectKey>
	</insert>
	
</mapper>